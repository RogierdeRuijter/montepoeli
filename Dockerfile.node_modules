FROM node:13-slim

RUN apt-get update && apt-get -y upgrade && apt-get -y install python3 make g++

WORKDIR /usr/src/app

COPY package.json package.json
COPY package-lock.json package-lock.json

RUN npm install

COPY angular.json angular.json
COPY tsconfig.json tsconfig.json

RUN npm run compile-ivy-dependencies
