FROM montepoeli.club/montepoeli-client-base-node-modules:latest

RUN mkdir -p /usr/src/app
WORKDIR /usr/src/app

RUN npm install -g @angular/cli

COPY package.json package.json
COPY ngsw-config.json ngsw-config.json
RUN cd /usr/src/app/ && npm install

RUN npm run compile-ivy-dependencies

ADD . /usr/src/app

EXPOSE 4200
EXPOSE 49153
